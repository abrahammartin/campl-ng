{% from 'components/teasers/common.html' import teaser_body, teaser_image %}

{% macro promo_teaser(article, img) %}
<div class="promo-teaser">
  <div class="promo-teaser-heading">
    <h3><a href="{{ article.link }}">{{ article.title }}</a></h3>
  </div>
  <div class="promo-teaser-image">
    <a href="{{ article.link }}" class="image_wrapper image_wrapper_promo">
      <img src="{{ img }}" alt="{{article. title }}">
    </a>
  </div>
  <div class="promo-teaser-text clearfix">
    <p>{{ article.body }}</p>
    <a href="{{ article.href }}" class="secondary-cta pull-right">Read more</a>
  </div>
</div>
{% endmacro %}

{% macro horizontal_teaser(article, img=None, type=None) %}
<div class="row horizontal-teaser">
  {% if img %}
  <div class="col-md-6 col-xs-3 teaser-image">
    {{ teaser_image(article, img, type) }}
  </div>
  <div class="col-md-6 col-xs-9 teaser-body">
    {{ teaser_body(article, type) }}
  </div>
  {% else %}
  <div class="col-xs-9 col-xs-offset-3 col-md-12 col-md-offset-0 teaser-body">
    {{ teaser_body(article, type) }}
  </div>
  {% endif %}
</div>
{% endmacro %}

{% macro vertical_teaser(article, img=None, type=None) %}
<div class="vertical-teaser row">
  {% if img %}
    <div class="teaser-image col-md-12 col-xs-3">
      {{ teaser_image(article, img, type) }}
    </div>
    <div class="teaser-body col-md-12 col-xs-9">
      {{ teaser_body(article, type) }}
    </div>
  {% else %}
    <div class="teaser-body col-md-12 col-md-offset-0 col-xs-9 col-xs-offset-3">
      {{ teaser_body(article, type) }}
    </div>
  {% endif %}
</div>
{% endmacro %}

{% macro news_teaser(article) %}
<div class="news-teaser">
  <h3 class="news-teaser-title"><a href="{{ article.link }}">{{ article.title }}</a></h3>
  <span class="news-teaser-date">{{ article.date.strftime('%-d %B %Y') }}</span>
  <p>{{ article.body }}</p>
</div>
{% endmacro %}

{% macro focus_on_teaser(article, img=None) %}
<div class="focus-on-teaser">
  <div class="row">
    {% if img %}
    <div class="col-xs-5">
      <a href="{{ href }}" class="image_wrapper image_wrapper_focuson"><img src="{{ img }}" alt="{{ title }}"></a>
    </div>
    {% endif %}
    {% if img %}
    <div class="col-xs-7 teaser-body">
    {% else %}
    <div class="col-xs-12 teaser-body">
    {% endif %}
      <h3 class="teaser-title">
        <a href="{{ article.link }}">{{ article.title }}</a>
      </h3>
    </div>
  </div>
</div>
{% endmacro %}

{% macro campage_teaser(article, img, tag) %}
<div class="row vertical-teaser campage-teaser">
  <div class="teaser-image col-xs-12">
    <span class="teaser-tag">{{ tag }}</span>
    <a href="{{ article.link }}" class="image_wrapper image_wrapper_tagged">
      <img src="{{ img }}" alt="{{ article.title }}">
    </a>
  </div>
  <div class="teaser-body col-xs-12">
    {{ teaser_body(article) }}
  </div>
</div>
{% endmacro %}

{% macro date_teaser(article) %}
<div class="date-teaser">
  <div class="date-teaser-date">
    <div class="date-teaser-date-day">
      {{ article.date.strftime('%-d') }}
    </div>
    <div class="date-teaser-date-month">
      {{ article.date.strftime('%b') }}
    </div>
  </div>
  <div class="date-teaser-text">
    <a href="{{ article.link }}">{{ ' '.join(article.title.split(' ')[:5]) }}</a>
  </div>
</div>
{% endmacro %}
